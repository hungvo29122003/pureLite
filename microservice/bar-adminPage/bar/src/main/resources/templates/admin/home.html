<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{layout :: header}">
  <title>Admin Dashboard</title>
  <link rel="stylesheet" th:href="@{/css/admin.css}">
</head>
<body>
  <div th:replace="~{/header :: body}"></div>
  <div th:replace="~{layout :: nav-bar}"></div>
  
  <div class="main-container">
    <div class="card">
      <h1><i class="fas fa-tachometer-alt"></i> Quản Lý Admin</h1>
      
      <!-- Thêm mới: Thông báo thành công hoặc lỗi -->
      <div th:if="${message}" class="alert alert-success" th:text="${message}"></div>
      <div th:if="${error}" class="alert alert-danger" th:text="${error}"></div>
      
      <h2><i class="fas fa-box"></i> Danh sách sản phẩm</h2>
      <table class="table">
        <thead>
          <tr>
            <th>ID</th>
            <th>Tên</th>
            <th>Giá</th>
            <th>Chi tiết</th>
            <th>Mô tả</th>
            <th>Hình ảnh</th>
            <th>Hành động</th>
          </tr>
        </thead>
        <tbody>
          <tr th:each="product : ${products}">
            <td th:text="${product.id}"></td>
            <td th:text="${product.name}"></td>
            <td th:text="${product.price}"></td>
            <td th:text="${product.details}"></td>
            <td th:text="${product.description}"></td>
            <td th:text="${product.image}"></td>
            <td class="table-actions">
              <a class="btn btn-primary" th:href="@{/admin/products/edit/{id}(id=${product.id})}">
                <i class="fas fa-edit"></i> Sửa
              </a>
              <a class="btn btn-danger" th:href="@{/admin/products/delete/{id}(id=${product.id})}" 
                 onclick="return confirm('Bạn có chắc muốn xóa?')">
                <i class="fas fa-trash"></i> Xóa
              </a>
            </td>
          </tr>
        </tbody>
      </table>

      <h2><i class="fas fa-users"></i> Danh sách khách hàng</h2>
      <table class="table">
        <thead>
          <tr>
            <th>ID</th>
            <th>Tên</th>
            <th>Địa chỉ</th>
            <th>Quốc gia</th>
            <th>Hành động</th>
          </tr>
        </thead>
        <tbody>
          <tr th:each="customer : ${customers}">
            <td th:text="${customer.id}"></td>
            <td th:text="${customer.name}"></td>
            <td th:text="${customer.address}"></td>
            <td th:text="${customer.country}"></td>
            <td class="table-actions">
              <a class="btn btn-primary" th:href="@{/admin/customers/edit/{id}(id=${customer.id})}">
                <i class="fas fa-edit"></i> Sửa
              </a>
              <a class="btn btn-danger" th:href="@{/admin/customers/delete/{id}(id=${customer.id})}" 
                 onclick="return confirm('Bạn có chắc muốn xóa?')">
                <i class="fas fa-trash"></i> Xóa
              </a>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</body>
</html>